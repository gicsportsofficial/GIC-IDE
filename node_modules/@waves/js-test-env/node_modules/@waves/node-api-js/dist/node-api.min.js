!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.nodeApi=t():e.nodeApi=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=i(n(7)),u=i(n(8)),s="function"==typeof fetch?fetch:n(16);function a(e){return e.text().then((function(t){return e.ok?u.default(t):Promise.reject(function(e){try{return JSON.parse(e)}catch(t){return e}}(t))}))}t.default=function(e){return s(o.default(e.url,e.base),function(e){void 0===e&&(e=Object.create(null));return r({credentials:"include"},e)}(e.options)).then(a)}},function(e,t,n){"use strict";function r(e){if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1}t.__esModule=!0,t.isObject=r,t.toArray=function(e){return Array.isArray(e)?e:[e]},t.head=function(e){return e[0]},t.wait=function(e){return new Promise((function(t){setTimeout(t,e)}))},t.prop=function(e){return function(t){return t[e]}},t.keys=function(e){return Object.keys(e)},t.entries=function(e){return t.keys(e).map((function(t){return[t,e[t]]}))},t.values=function(e){return t.keys(e).map((function(t){return e[t]}))},t.assign=function(e,n){return t.entries(n).reduce((function(t,n){var r=n[0],i=n[1];return e[r]=i,e}),e)},t.deepAssign=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce((function(e,n){return t.keys(n).forEach((function(i){Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=Array.from(new Set(e[i].concat(n[i]))):r(e[i])&&r(n[i])?e[i]=t.deepAssign(e[i],n[i]):e[i]=n[i]})),e}),e[0]||{})},t.map=function(e){return function(t){return t.map(e)}},t.filter=function(e){return function(t){return t.filter(e)}},t.indexBy=function(e,t){return t.reduce((function(t,n){return t[e(n)]=n,t}),{})},t.uniq=function(e){return t.keys(e.reduce((function(e,t){return e[t]=t,e}),Object.create(null)))},t.switchTransactionByType=function(e){return function(t){return e[t.type]&&"function"==typeof e[t.type]?e[t.type](t):void 0}},t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=n(5),u=n(4),s=i(n(0)),a=i(n(3)),c=n(1),f=i(n(9));function l(e,t,n){return void 0===n&&(n=Object.create(null)),s.default({base:e,url:"/transactions/unconfirmed/info/"+t,options:n})}function d(e,t,n){return void 0===n&&(n=Object.create(null)),s.default({base:e,url:"/transactions/info/"+t,options:n})}t.fetchUnconfirmedSize=function(e,t){return void 0===t&&(t=Object.create(null)),s.default({base:e,url:"/transactions/unconfirmed/size",options:t})},t.fetchCalculateFee=function(e,t,n){return void 0===n&&(n=Object.create(null)),s.default({base:e,url:"/transactions/calculateFee",options:c.deepAssign(r({},n),{method:"POST",body:f.default(t),headers:{"Content-Type":"application/json"}})})},t.fetchUnconfirmed=function(e,t){return void 0===t&&(t=Object.create(null)),s.default({base:e,url:"/transactions/unconfirmed",options:t})},t.fetchTransactions=function(e,t,n,r,i,o){return void 0===o&&(o=Object.create(null)),s.default({base:e,url:"/transactions/address/"+t+"/limit/"+n+a.default({after:r}),options:o}).then((function(e){return e[0]}))},t.fetchUnconfirmedInfo=l,t.fetchInfo=d,t.fetchStatus=function(e,t){var n={id:"",confirmations:-1,height:-1,inUTX:!1,status:o.TRANSACTION_STATUSES.NOT_FOUND},i=t.map((function(t){return l(e,t).then((function(){return r(r({},n),{id:t,status:o.TRANSACTION_STATUSES.UNCONFIRMED,inUTX:!0})})).catch((function(){return d(e,t).then((function(e){return r(r({},n),{id:t,status:o.TRANSACTION_STATUSES.IN_BLOCKCHAIN,height:e.height,applicationStatus:e.applicationStatus})}))})).catch((function(){return r(r({},n),{id:t})}))}));return Promise.all([u.fetchHeight(e),Promise.all(i)]).then((function(e){var t=e[0].height,n=e[1];return{height:t,statuses:n.map((function(e){return r(r({},e),{confirmations:e.status===o.TRANSACTION_STATUSES.IN_BLOCKCHAIN?t-e.height:e.confirmations})}))}}))},t.broadcast=function(e,t,n){return void 0===n&&(n=Object.create(null)),s.default({base:e,url:"/transactions/broadcast",options:c.deepAssign(r({},n),{method:"POST",body:f.default(t),headers:{"Content-Type":"application/json"}})})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){void 0===t&&(t=Object.create(null));var n=Object.keys(e).map((function(t){return[t,e[t]]})).map((function(e){var n=e[0],r=e[1];return[n,Object.prototype.hasOwnProperty.call(t,n)?t[n](r):r]})).filter((function(e){e[0];return null!=e[1]})).map((function(e){return e[0]+"="+e[1]})).join("&");return n.length?"?"+n:""}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0));t.fetchHeadersSeq=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/blocks/headers/seq/"+t+"/"+n,options:r})},t.fetchHeadersLast=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/blocks/headers/last",options:t})},t.fetchHeightById=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/blocks/height/"+t,options:n})},t.fetchHeadersAt=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/blocks/headers/at/"+t,options:n})},t.BlockAt=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/blocks/at/"+t,options:n})},t.fetchSeq=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/blocks/seq/"+t+"/"+n,options:r})},t.fetchBlockBySignature=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/blocks/signature/"+t,options:n})},t.fetchFirst=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/blocks/first",options:t})},t.fetchBlocksByAddress=function(e,t,n,r,o){return void 0===o&&(o=Object.create(null)),i.default({base:e,url:"/blocks/address/"+t+"/"+n+"/"+r,options:o})},t.fetchLast=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/blocks/last",options:t})},t.fetchDelay=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/blocks/delay/"+t+"/"+n,options:r})},t.fetchHeight=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/blocks/height",options:t})}},function(e,t,n){"use strict";t.__esModule=!0,t.TYPE_MAP={3:"issue",4:"transfer",5:"reissue",6:"burn",7:"exchange",8:"lease",9:"cancelLease",10:"alias",11:"massTransfer",12:"data",13:"setScript",14:"sponsorship",15:"setAssetScript",16:"invoke"},t.NAME_MAP={issue:3,transfer:4,reissue:5,burn:6,exchange:7,lease:8,cancelLease:9,alias:10,massTransfer:11,data:12,setScript:13,sponsorship:14,setAssetScript:15,invoke:16},t.TRANSACTION_STATUSES={IN_BLOCKCHAIN:"in_blockchain",UNCONFIRMED:"unconfirmed",NOT_FOUND:"not_found"}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0)),o=n(1);t.fetchDetails=function(e,t,n){void 0===n&&(n=Object.create(null));var r=!Array.isArray(t);return Promise.all(o.toArray(t).map((function(t){return i.default({base:e,url:"/assets/details/"+t,options:n})}))).then((function(e){return r?e[0]:e}))},t.fetchAssetsDetails=function(e,t,n){void 0===n&&(n=Object.create(null));var r=t.map((function(e){return"id="+e})).join("&"),o=t.length?"?"+r:"";return i.default({base:e,url:"/assets/details"+o,options:n})},t.fetchAssetDistribution=function(e,t,n,r,o){return void 0===o&&(o=Object.create(null)),i.default({base:e,url:"/assets/"+t+"/distribution/"+n+"/limit/"+r,options:o})},t.fetchAssetsAddressLimit=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"assets/nft/"+t+"/limit/"+n,options:r})},t.fetchAssetsBalance=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/assets/balance/"+t,options:n})},t.fetchBalanceAddressAssetId=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/assets/balance/"+t+"/"+n,options:r})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return new URL(e,t).toString()}},function(e,t,n){"use strict";t.__esModule=!0;var r=new RegExp('((?!\\\\)"\\w+"):\\s*(-?[\\d|\\.]{14,})',"g");t.default=function(e){return JSON.parse(e.replace(r,'$1:"$2"'))}},function(e,t,n){"use strict";t.__esModule=!0;var r=["amount","matcherFee","price","fee","minSponsoredAssetFee","quantity","sellMatcherFee","buyMatcherFee"];t.default=function(e){return JSON.stringify(e,(function(e,t){return r.includes(e)?"!"+t+"!":"value"===e&&"integer"===this.type?"!"+t+"!":t}),0).replace(/"\!(-?\d+)\!"/g,"$1")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),i=n(2),o=n(5);t.default=function(e,t,n){var u=!Array.isArray(t),s=Date.now(),a=[],c=n&&n.confirmations||0,f=n&&n.maxWaitTime||0,l=n&&n.requestInterval||250,d=function(t){return i.fetchStatus(e,t.map(r.prop("id"))).then((function(e){var n=r.indexBy(r.prop("id"),e.statuses);if(t.some((function(e){return n[e.id].status===o.TRANSACTION_STATUSES.NOT_FOUND})))throw new Error("One transaction is not in blockchain!");var i=t.filter((function(e){return!(n[e.id].confirmations>=c)||(a.push(e),!1)}));if(i.length)return f&&Date.now()-s>f?Promise.reject("Timeout error!"):r.wait(l).then((function(){return d(i)}))}))};return d(r.toArray(t)).then((function(){return u?r.head(a):a}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=n(6),o=r(n(12)),u=n(1);t.default=function(e,t){return i.fetchDetails(e,o.default(t)).then((function(e){return u.indexBy(u.prop("assetId"),e)}))}},function(e,t,n){"use strict";var r,i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r};t.__esModule=!0;var o=n(1),u=n(5),s=o.switchTransactionByType(((r={})[u.NAME_MAP.transfer]=function(e){return[e.assetId,e.feeAssetId]},r[u.NAME_MAP.burn]=function(e){return[e.assetId]},r[u.NAME_MAP.reissue]=function(e){return[e.assetId]},r[u.NAME_MAP.exchange]=function(e){return[e.buyOrder.assetPair.amountAsset,e.buyOrder.assetPair.priceAsset,e.buyOrder.matcherFeeAssetId,e.sellOrder.matcherFeeAssetId]},r[u.NAME_MAP.massTransfer]=function(e){return[e.assetId]},r[u.NAME_MAP.setAssetScript]=function(e){return[e.assetId]},r[u.NAME_MAP.sponsorship]=function(e){return[e.assetId]},r[u.NAME_MAP.invoke]=function(e){return i((e.payment||[]).map(o.prop("assetId")),[e.feeAssetId])},r));t.default=function(e){var t=o.toArray(e).reduce((function(e,t){return e.concat(s(t)||[])}),[]);return o.pipe(o.filter(Boolean),o.uniq)(t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(4);t.default=function(e){return r.fetchHeadersLast(e).then((function(e){return function(e){var t,n,r,i,u;if(0===e.length)return new Uint8Array(0);u=void 0,i=void 0,t=[0],u=0;for(;u<e.length;){if(!((n=e[u])in o))throw"Base58.decode received unacceptable input. Character '"+n+"' is not in the Base58 alphabet.";for(i=0;i<t.length;)t[i]*=58,i++;for(t[0]+=o[n],r=0,i=0;i<t.length;)t[i]+=r,r=t[i]>>8,t[i]&=255,++i;for(;r;)t.push(255&r),r>>=8;u++}u=0;for(;"1"===e[u]&&u<e.length-1;)t.push(0),u++;return new Uint8Array(t.reverse())}(e.generator)[1]}))};for(var i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",o={},u=0;u<i.length;u++)o[i.charAt(u)]=u},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=r(n(15)),u=r(n(4)),s=r(n(2)),a=r(n(17)),c=r(n(18)),f=r(n(19)),l=r(n(20)),d=r(n(21)),h=r(n(22)),p=r(n(23)),b=r(n(24)),g=r(n(25)),v=r(n(6)),_=i(n(3)),m=i(n(7)),y=i(n(0)),O=i(n(26)),A=i(n(11)),N=i(n(12)),w=i(n(27)),j=i(n(28)),S=i(n(10)),T=i(n(8)),M=i(n(13)),B=i(n(30)),E=i(n(31)),D=r(n(1));function I(e){var t=P(e,o),n=P(e,u),r=P(e,s),i=P(e,a),I=P(e,c),R=P(e,f),C=P(e,l),k=P(e,d),F=P(e,h),L=P(e,p),x=P(e,b),H=P(e,g),q=P(e,v);return{addresses:t,blocks:n,transactions:r,leasing:i,tools:{transactions:{broadcast:U(e,O.default),wait:U(e,S.default)},blocks:{getNetworkByte:U(e,M.default),getNetworkCode:U(e,B.default)},addresses:{createWatch:U(e,E.default),getAssetsByTransaction:U(e,A.default),getAssetIdListByTx:N.default,getTransactionsWithAssets:U(e,w.default),availableSponsoredBalances:U(e,j.default)},utils:D,query:_.default,resolve:m.default,request:y.default,parse:T.default},peers:I,rewards:R,utils:C,debug:k,alias:F,consensus:L,activation:x,node:H,assets:q}}function P(e,t){return Object.keys(t).reduce((function(n,r){return n[r]=U(e,t[r]),n}),{})}function U(e,t){return t.bind(null,e)}t.create=I,t.default=I},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0)),o=r(n(3));t.fetchDataKey=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/addresses/data/"+t+"/"+encodeURIComponent(n),options:r})},t.fetchScriptInfoMeta=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/addresses/scriptInfo/"+t+"/meta",options:n})},t.fetchBalanceDetails=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/addresses/balance/details/"+t,options:n})},t.fetchBalanceConfirmations=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/addresses/balance/"+t+"/"+n,options:r})},t.fetchScriptInfo=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/addresses/scriptInfo/"+t,options:n})},t.data=function(e,t,n,r){return void 0===n&&(n=Object.create(null)),void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/addresses/data/"+t+o.default(n),options:r})},t.fetchValidate=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/addresses/validate/"+t,options:n})},t.fetchBalance=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/addresses/balance/"+t,options:n})},t.fetchEffectiveBalanceConfirmations=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/addresses/effectiveBalance/"+t+"/"+n,options:r})},t.fetchEffectiveBalance=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/addresses/effectiveBalance/"+t,options:n})},t.fetchSeq=function(e,t,n,r){return void 0===r&&(r=Object.create(null)),i.default({base:e,url:"/addresses/seq/"+t+"/"+n,options:r})},t.fetchSeed=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/addresses/seed/"+t,options:n})},t.fetchPublicKey=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/addresses/publicKey/"+t,options:n})},t.fetchAddresses=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/addresses",options:t})}},function(e,t,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,t.default=r.fetch.bind(r),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0));t.fetchActive=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/leasing/active/"+t,options:n})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0));t.fetchAll=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/peers/all",options:t})},t.fetchConnected=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/peers/connected",options:t})},t.fetchBlackListed=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/peers/blacklisted",options:t})},t.fetchSuspended=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/peers/suspended",options:t})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0));t.fetchRewards=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:t?"/blockchain/rewards/"+t:"/blockchain/rewards",options:n})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0)),o=r(n(9));t.fetchSeed=function(e,t){return i.default({base:e,url:"/utils/seed"+(t?"/"+t:"")})},t.fetchCompileCode=function(e,t){return i.default({base:e,url:"/utils/script/compileCode",options:{method:"POST",body:t,headers:{"Content-Type":"application/json"}}})},t.fetchCompileWithImports=function(e,t){return i.default({base:e,url:"/utils/script/compileWithImports",options:{method:"POST",body:o.default(t),headers:{"Content-Type":"application/json"}}})},t.fetchEstimate=function(e,t){return i.default({base:e,url:"/utils/script/estimate",options:{method:"POST",body:t,headers:{"Content-Type":"application/json"}}})},t.fetchTransactionSerialize=function(e,t){return i.default({base:e,url:"/utils/transactionSerialize",options:{method:"POST",body:o.default(t),headers:{"Content-Type":"application/json"}}})},t.fetchHashSecure=function(e,t){return i.default({base:e,url:"/utils/hash/secure",options:{method:"POST",body:t,headers:{"Content-Type":"application/json"}}})},t.fetchHashFast=function(e,t){return i.default({base:e,url:"/utils/hash/fast",options:{method:"POST",body:t,headers:{"Content-Type":"application/json"}}})},t.fetchScriptMeta=function(e,t){return i.default({base:e,url:"/utils/script/meta",options:{method:"POST",body:t,headers:{"Content-Type":"application/json"}}})},t.fetchScriptDecompile=function(e,t){return i.default({base:e,url:"/utils/script/decompile",options:{method:"POST",body:t,headers:{"Content-Type":"application/json"}}})},t.fetchSignPrivateKey=function(e,t,n){return i.default({base:e,url:"/utils/sign/"+t,options:{method:"POST",body:n,headers:{"Content-Type":"application/json"}}})},t.fetchNodeTime=function(e){return i.default({base:e,url:"/utils/time"})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0)),o=r(n(3));t.fetchBalanceHistory=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/debug/balances/history/"+t,options:n})},t.fetchStateChangesByAddress=function(e,t,n,r,u){return void 0===u&&(u=Object.create(null)),i.default({base:e,url:"/debug/stateChanges/address/"+t+"/limit/"+n+o.default({after:r}),options:u})},t.fetchStateChangesByTxId=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/debug/stateChanges/info/"+t,options:n})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0));t.fetchByAlias=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/alias/by-alias/"+t,options:n})},t.fetchByAddress=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/alias/by-address/"+t,options:n})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0));t.fetchGeneratingBalance=function(e,t){return i.default({base:e,url:"/consensus/generatingbalance/"+t})},t.fetchBasetarget=function(e){return i.default({base:e,url:"/consensus/basetarget"})},t.fetchConsensusAlgo=function(e){return i.default({base:e,url:"/consensus/algo"})},t.fetchGenerationSignatureBlockId=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/consensus/generationsignature/"+t,options:n})},t.fetchBasetargetBlockId=function(e,t,n){return void 0===n&&(n=Object.create(null)),i.default({base:e,url:"/consensus/basetarget/"+t,options:n})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0));t.fetchActivationStatus=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"activation/status",options:t})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(0));t.fetchNodeStatus=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/node/status",options:t})},t.fetchNodeVersion=function(e,t){return void 0===t&&(t=Object.create(null)),i.default({base:e,url:"/node/version",options:t})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=n(2),u=n(1),s=i(n(10)),a={chain:!1,confirmations:-1,maxWaitTime:0,requestInterval:0};t.default=function(e,t,n){var i=r(r({},a),n||{}),c=!Array.isArray(t),f=i.confirmations>0?1:0;return(i.chain?function(e,t,n){return new Promise((function(r,i){var u=t.slice().reverse(),a=[],c=function(){if(!u.length)return r(a),null;var t=u.pop();o.broadcast(e,t).then((function(t){return s.default(e,t,n)})).then((function(e){a.push(e),c()}),i)};c()}))}(e,u.toArray(t),r(r({},i),{confirmations:f})):function(e,t){return Promise.all(t.map((function(t){return o.broadcast(e,t)})))}(e,u.toArray(t))).then((function(t){return i.confirmations<=0?t:s.default(e,t,i)})).then((function(e){return c?u.head(e):e}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=n(2),o=r(n(11));t.default=function(e,t,n,r){return i.fetchTransactions(e,t,n,r).then((function(t){return o.default(e,t).then((function(e){return{transactions:t,assets:e}}))}))}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(29),i=n(6),o=n(1);t.default=function(e,t,n){return i.fetchAssetsBalance(e,t).then(o.pipe(o.prop("balances"),o.filter(function(e){return function(t){return t.minSponsoredAssetFee&&r.BigNumber.toBigNumber(t.sponsorBalance||0).gte(e)&&r.BigNumber.toBigNumber(e).div(.001*Math.pow(10,8)).mul(t.minSponsoredAssetFee).lte(t.balance)||!1}}(n)),o.map(function(e){var t=r.BigNumber.toBigNumber(e).div(.001*Math.pow(10,8));return function(n){return{assetId:n.assetId,wavesFee:e,assetFee:r.BigNumber.toBigNumber(n.minSponsoredAssetFee).mul(t).toFixed()}}}(n))))}},function(e,t,n){!function(e){"use strict";var t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,r=Math.floor,i="[BigNumber Error] ",o=i+"Number primitive has more than 15 significant digits: ",u=1e14,s=14,a=9007199254740991,c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,l=1e9;function d(e){var t=0|e;return e>0||e===t?t:t-1}function h(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=s-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function p(e,t){var n,r,i=e.c,o=t.c,u=e.s,s=t.s,a=e.e,c=t.e;if(!u||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:u;if(u!=s)return u;if(n=u<0,r=a==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return a>c^n?1:-1;for(s=(a=i.length)<(c=o.length)?a:c,u=0;u<s;u++)if(i[u]!=o[u])return i[u]>o[u]^n?1:-1;return a==c?0:a>c^n?1:-1}function b(e,t,n,o){if(e<t||e>n||e!==r(e))throw Error(i+(o||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return d(e.e/s)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function _(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var m=function e(m){var y,O,A,N,w,j,S,T,M,B=q.prototype={constructor:q,toString:null,valueOf:null},E=new q(1),D=20,I=4,P=-7,U=21,R=-1e7,C=1e7,k=!1,F=1,L=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz";function q(e,n){var i,u,c,f,l,d,h,p,g=this;if(!(g instanceof q))return new q(e,n);if(null==n){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>C?g.c=g.e=null:e.e<R?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(f=0,l=e;l>=10;l/=10,f++);return void(f>C?g.c=g.e=null:(g.e=f,g.c=[e]))}p=String(e)}else{if(!t.test(p=String(e)))return A(g,p,d);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(f=p.indexOf("."))>-1&&(p=p.replace(".","")),(l=p.search(/e/i))>0?(f<0&&(f=l),f+=+p.slice(l+1),p=p.substring(0,l)):f<0&&(f=p.length)}else{if(b(n,2,H.length,"Base"),10==n)return z(g=new q(e),D+g.e+1,I);if(p=String(e),d="number"==typeof e){if(0*e!=0)return A(g,p,d,n);if(g.s=1/e<0?(p=p.slice(1),-1):1,q.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(i=H.slice(0,n),f=l=0,h=p.length;l<h;l++)if(i.indexOf(u=p.charAt(l))<0){if("."==u){if(l>f){f=h;continue}}else if(!c&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){c=!0,l=-1,f=0;continue}return A(g,String(e),d,n)}d=!1,(f=(p=O(p,n,10,g.s)).indexOf("."))>-1?p=p.replace(".",""):f=p.length}for(l=0;48===p.charCodeAt(l);l++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(l,++h)){if(h-=l,d&&q.DEBUG&&h>15&&(e>a||e!==r(e)))throw Error(o+g.s*e);if((f=f-l-1)>C)g.c=g.e=null;else if(f<R)g.c=[g.e=0];else{if(g.e=f,g.c=[],l=(f+1)%s,f<0&&(l+=s),l<h){for(l&&g.c.push(+p.slice(0,l)),h-=s;l<h;)g.c.push(+p.slice(l,l+=s));l=s-(p=p.slice(l)).length}else l-=h;for(;l--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function G(e,t,n,r){var i,o,u,s,a;if(null==n?n=I:b(n,0,8),!e.c)return e.toString();if(i=e.c[0],u=e.e,null==t)a=h(e.c),a=1==r||2==r&&(u<=P||u>=U)?v(a,u):_(a,u,"0");else if(o=(e=z(new q(e),t,n)).e,s=(a=h(e.c)).length,1==r||2==r&&(t<=o||o<=P)){for(;s<t;a+="0",s++);a=v(a,o)}else if(t-=u,a=_(a,o,"0"),o+1>s){if(--t>0)for(a+=".";t--;a+="0");}else if((t+=o-s)>0)for(o+1==s&&(a+=".");t--;a+="0");return e.s<0&&i?"-"+a:a}function J(e,t){for(var n,r=1,i=new q(e[0]);r<e.length;r++){if(!(n=new q(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function W(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*s-1)>C?e.c=e.e=null:n<R?e.c=[e.e=0]:(e.e=n,e.c=t),e}function z(e,t,i,o){var a,f,l,d,h,p,b,g=e.c,v=c;if(g){e:{for(a=1,d=g[0];d>=10;d/=10,a++);if((f=t-a)<0)f+=s,l=t,b=(h=g[p=0])/v[a-l-1]%10|0;else if((p=n((f+1)/s))>=g.length){if(!o)break e;for(;g.length<=p;g.push(0));h=b=0,a=1,l=(f%=s)-s+1}else{for(h=d=g[p],a=1;d>=10;d/=10,a++);b=(l=(f%=s)-s+a)<0?0:h/v[a-l-1]%10|0}if(o=o||t<0||null!=g[p+1]||(l<0?h:h%v[a-l-1]),o=i<4?(b||o)&&(0==i||i==(e.s<0?3:2)):b>5||5==b&&(4==i||o||6==i&&(f>0?l>0?h/v[a-l]:0:g[p-1])%10&1||i==(e.s<0?8:7)),t<1||!g[0])return g.length=0,o?(t-=e.e+1,g[0]=v[(s-t%s)%s],e.e=-t||0):g[0]=e.e=0,e;if(0==f?(g.length=p,d=1,p--):(g.length=p+1,d=v[s-f],g[p]=l>0?r(h/v[a-l]%v[l])*d:0),o)for(;;){if(0==p){for(f=1,l=g[0];l>=10;l/=10,f++);for(l=g[0]+=d,d=1;l>=10;l/=10,d++);f!=d&&(e.e++,g[0]==u&&(g[0]=1));break}if(g[p]+=d,g[p]!=u)break;g[p--]=0,d=1}for(f=g.length;0===g[--f];g.pop());}e.e>C?e.c=e.e=null:e.e<R&&(e.c=[e.e=0])}return e}function V(e){var t,n=e.e;return null===n?e.toString():(t=h(e.c),t=n<=P||n>=U?v(t,n):_(t,n,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(i+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,l,t),D=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),I=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-l,0,t),b(n[1],0,l,t),P=n[0],U=n[1]):(b(n,-l,l,t),P=-(U=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-l,-1,t),b(n[1],1,l,t),R=n[0],C=n[1];else{if(b(n,-l,l,t),!n)throw Error(i+t+" cannot be zero: "+n);R=-(C=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(i+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw k=!n,Error(i+"crypto unavailable");k=n}else k=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),F=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,l,t),L=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(i+t+" not an object: "+n);x=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(i+t+" invalid: "+n);H=n}}return{DECIMAL_PLACES:D,ROUNDING_MODE:I,EXPONENTIAL_AT:[P,U],RANGE:[R,C],CRYPTO:k,MODULO_MODE:F,POW_PRECISION:L,FORMAT:x,ALPHABET:H}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,n,o=e.c,a=e.e,c=e.s;e:if("[object Array]"=={}.toString.call(o)){if((1===c||-1===c)&&a>=-l&&a<=l&&a===r(a)){if(0===o[0]){if(0===a&&1===o.length)return!0;break e}if((t=(a+1)%s)<1&&(t+=s),String(o[0]).length==t){for(t=0;t<o.length;t++)if((n=o[t])<0||n>=u||n!==r(n))break e;if(0!==n)return!0}}}else if(null===o&&null===a&&(null===c||1===c||-1===c))return!0;throw Error(i+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return J(arguments,B.lt)},q.minimum=q.min=function(){return J(arguments,B.gt)},q.random=(N=9007199254740992*Math.random()&2097151?function(){return r(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,o,u,a,f,d=0,h=[],p=new q(E);if(null==e?e=D:b(e,0,l),a=n(e/s),k)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));d<a;)(f=131072*t[d]+(t[d+1]>>>11))>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),t[d]=o[0],t[d+1]=o[1]):(h.push(f%1e14),d+=2);d=a/2}else{if(!crypto.randomBytes)throw k=!1,Error(i+"crypto unavailable");for(t=crypto.randomBytes(a*=7);d<a;)(f=281474976710656*(31&t[d])+1099511627776*t[d+1]+4294967296*t[d+2]+16777216*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(h.push(f%1e14),d+=7);d=a/7}if(!k)for(;d<a;)(f=N())<9e15&&(h[d++]=f%1e14);for(a=h[--d],e%=s,a&&e&&(f=c[s-e],h[d]=r(a/f)*f);0===h[d];h.pop(),d--);if(d<0)h=[u=0];else{for(u=-1;0===h[0];h.splice(0,1),u-=s);for(d=1,f=h[0];f>=10;f/=10,d++);d<s&&(u-=s-d)}return p.e=u,p.c=h,p}),q.sum=function(){for(var e=1,t=arguments,n=new q(t[0]);e<t.length;)n=n.plus(t[e++]);return n},O=function(){function e(e,t,n,r){for(var i,o,u=[0],s=0,a=e.length;s<a;){for(o=u.length;o--;u[o]*=t);for(u[0]+=r.indexOf(e.charAt(s++)),i=0;i<u.length;i++)u[i]>n-1&&(null==u[i+1]&&(u[i+1]=0),u[i+1]+=u[i]/n|0,u[i]%=n)}return u.reverse()}return function(t,n,r,i,o){var u,s,a,c,f,l,d,p,b=t.indexOf("."),g=D,v=I;for(b>=0&&(c=L,L=0,t=t.replace(".",""),l=(p=new q(n)).pow(t.length-b),L=c,p.c=e(_(h(l.c),l.e,"0"),10,r,"0123456789"),p.e=p.c.length),a=c=(d=e(t,n,r,o?(u=H,"0123456789"):(u="0123456789",H))).length;0==d[--c];d.pop());if(!d[0])return u.charAt(0);if(b<0?--a:(l.c=d,l.e=a,l.s=i,d=(l=y(l,p,g,v,r)).c,f=l.r,a=l.e),b=d[s=a+g+1],c=r/2,f=f||s<0||null!=d[s+1],f=v<4?(null!=b||f)&&(0==v||v==(l.s<0?3:2)):b>c||b==c&&(4==v||f||6==v&&1&d[s-1]||v==(l.s<0?8:7)),s<1||!d[0])t=f?_(u.charAt(1),-g,u.charAt(0)):u.charAt(0);else{if(d.length=s,f)for(--r;++d[--s]>r;)d[s]=0,s||(++a,d=[1].concat(d));for(c=d.length;!d[--c];);for(b=0,t="";b<=c;t+=u.charAt(d[b++]));t=_(t,a,u.charAt(0))}return t}}(),y=function(){function e(e,t,n){var r,i,o,u,s=0,a=e.length,c=t%f,l=t/f|0;for(e=e.slice();a--;)s=((i=c*(o=e[a]%f)+(r=l*o+(u=e[a]/f|0)*c)%f*f+s)/n|0)+(r/f|0)+l*u,e[a]=i%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,o,a,c,f){var l,h,p,b,g,v,_,m,y,O,A,N,w,j,S,T,M,B=i.s==o.s?1:-1,E=i.c,D=o.c;if(!(E&&E[0]&&D&&D[0]))return new q(i.s&&o.s&&(E?!D||E[0]!=D[0]:D)?E&&0==E[0]||!D?0*B:B/0:NaN);for(y=(m=new q(B)).c=[],B=a+(h=i.e-o.e)+1,f||(f=u,h=d(i.e/s)-d(o.e/s),B=B/s|0),p=0;D[p]==(E[p]||0);p++);if(D[p]>(E[p]||0)&&h--,B<0)y.push(1),b=!0;else{for(j=E.length,T=D.length,p=0,B+=2,(g=r(f/(D[0]+1)))>1&&(D=e(D,g,f),E=e(E,g,f),T=D.length,j=E.length),w=T,A=(O=E.slice(0,T)).length;A<T;O[A++]=0);M=D.slice(),M=[0].concat(M),S=D[0],D[1]>=f/2&&S++;do{if(g=0,(l=t(D,O,T,A))<0){if(N=O[0],T!=A&&(N=N*f+(O[1]||0)),(g=r(N/S))>1)for(g>=f&&(g=f-1),_=(v=e(D,g,f)).length,A=O.length;1==t(v,O,_,A);)g--,n(v,T<_?M:D,_,f),_=v.length,l=1;else 0==g&&(l=g=1),_=(v=D.slice()).length;if(_<A&&(v=[0].concat(v)),n(O,v,A,f),A=O.length,-1==l)for(;t(D,O,T,A)<1;)g++,n(O,T<A?M:D,A,f),A=O.length}else 0===l&&(g++,O=[0]);y[p++]=g,O[0]?O[A++]=E[w]||0:(O=[E[w]],A=1)}while((w++<j||null!=O[0])&&B--);b=null!=O[0],y[0]||y.splice(0,1)}if(f==u){for(p=1,B=y[0];B>=10;B/=10,p++);z(m,a+(m.e=p+h*s-1)+1,c,b)}else m.e=h,m.r=+b;return m}}(),w=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,S=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,M=/^\s*\+(?=[\w.])|^\s+|\s+$/g,A=function(e,t,n,r){var o,u=n?t:t.replace(M,"");if(T.test(u))e.s=isNaN(u)?null:u<0?-1:1;else{if(!n&&(u=u.replace(w,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t})),r&&(o=r,u=u.replace(j,"$1").replace(S,"0.$1")),t!=u))return new q(u,o);if(q.DEBUG)throw Error(i+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},B.absoluteValue=B.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},B.comparedTo=function(e,t){return p(this,new q(e,t))},B.decimalPlaces=B.dp=function(e,t){var n,r,i,o=this;if(null!=e)return b(e,0,l),null==t?t=I:b(t,0,8),z(new q(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-d(this.e/s))*s,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},B.dividedBy=B.div=function(e,t){return y(this,new q(e,t),D,I)},B.dividedToIntegerBy=B.idiv=function(e,t){return y(this,new q(e,t),0,1)},B.exponentiatedBy=B.pow=function(e,t){var o,u,a,c,f,l,d,h,p=this;if((e=new q(e)).c&&!e.isInteger())throw Error(i+"Exponent not an integer: "+V(e));if(null!=t&&(t=new q(t)),f=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new q(Math.pow(+V(p),f?2-g(e):+V(e))),t?h.mod(t):h;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(u=!l&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||f&&p.c[1]>=24e7:p.c[0]<8e13||f&&p.c[0]<=9999975e7)))return c=p.s<0&&g(e)?-0:0,p.e>-1&&(c=1/c),new q(l?1/c:c);L&&(c=n(L/s+2))}for(f?(o=new q(.5),l&&(e.s=1),d=g(e)):d=(a=Math.abs(+V(e)))%2,h=new q(E);;){if(d){if(!(h=h.times(p)).c)break;c?h.c.length>c&&(h.c.length=c):u&&(h=h.mod(t))}if(a){if(0===(a=r(a/2)))break;d=a%2}else if(z(e=e.times(o),e.e+1,1),e.e>14)d=g(e);else{if(0==(a=+V(e)))break;d=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):u&&(p=p.mod(t))}return u?h:(l&&(h=E.div(h)),t?h.mod(t):c?z(h,L,I,void 0):h)},B.integerValue=function(e){var t=new q(this);return null==e?e=I:b(e,0,8),z(t,t.e+1,e)},B.isEqualTo=B.eq=function(e,t){return 0===p(this,new q(e,t))},B.isFinite=function(){return!!this.c},B.isGreaterThan=B.gt=function(e,t){return p(this,new q(e,t))>0},B.isGreaterThanOrEqualTo=B.gte=function(e,t){return 1===(t=p(this,new q(e,t)))||0===t},B.isInteger=function(){return!!this.c&&d(this.e/s)>this.c.length-2},B.isLessThan=B.lt=function(e,t){return p(this,new q(e,t))<0},B.isLessThanOrEqualTo=B.lte=function(e,t){return-1===(t=p(this,new q(e,t)))||0===t},B.isNaN=function(){return!this.s},B.isNegative=function(){return this.s<0},B.isPositive=function(){return this.s>0},B.isZero=function(){return!!this.c&&0==this.c[0]},B.minus=function(e,t){var n,r,i,o,a=this,c=a.s;if(t=(e=new q(e,t)).s,!c||!t)return new q(NaN);if(c!=t)return e.s=-t,a.plus(e);var f=a.e/s,l=e.e/s,h=a.c,p=e.c;if(!f||!l){if(!h||!p)return h?(e.s=-t,e):new q(p?a:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-t,e):new q(h[0]?a:3==I?-0:0)}if(f=d(f),l=d(l),h=h.slice(),c=f-l){for((o=c<0)?(c=-c,i=h):(l=f,i=p),i.reverse(),t=c;t--;i.push(0));i.reverse()}else for(r=(o=(c=h.length)<(t=p.length))?c:t,c=t=0;t<r;t++)if(h[t]!=p[t]){o=h[t]<p[t];break}if(o&&(i=h,h=p,p=i,e.s=-e.s),(t=(r=p.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=u-1;r>c;){if(h[--r]<p[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=u}h[r]-=p[r]}for(;0==h[0];h.splice(0,1),--l);return h[0]?W(e,h,l):(e.s=3==I?-1:1,e.c=[e.e=0],e)},B.modulo=B.mod=function(e,t){var n,r,i=this;return e=new q(e,t),!i.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||i.c&&!i.c[0]?new q(i):(9==F?(r=e.s,e.s=1,n=y(i,e,0,3),e.s=r,n.s*=r):n=y(i,e,0,F),(e=i.minus(n.times(e))).c[0]||1!=F||(e.s=i.s),e)},B.multipliedBy=B.times=function(e,t){var n,r,i,o,a,c,l,h,p,b,g,v,_,m,y,O=this,A=O.c,N=(e=new q(e,t)).c;if(!(A&&N&&A[0]&&N[0]))return!O.s||!e.s||A&&!A[0]&&!N||N&&!N[0]&&!A?e.c=e.e=e.s=null:(e.s*=O.s,A&&N?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=d(O.e/s)+d(e.e/s),e.s*=O.s,(l=A.length)<(b=N.length)&&(_=A,A=N,N=_,i=l,l=b,b=i),i=l+b,_=[];i--;_.push(0));for(m=u,y=f,i=b;--i>=0;){for(n=0,g=N[i]%y,v=N[i]/y|0,o=i+(a=l);o>i;)n=((h=g*(h=A[--a]%y)+(c=v*h+(p=A[a]/y|0)*g)%y*y+_[o]+n)/m|0)+(c/y|0)+v*p,_[o--]=h%m;_[o]=n}return n?++r:_.splice(0,1),W(e,_,r)},B.negated=function(){var e=new q(this);return e.s=-e.s||null,e},B.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new q(e,t)).s,!i||!t)return new q(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/s,a=e.e/s,c=r.c,f=e.c;if(!o||!a){if(!c||!f)return new q(i/0);if(!c[0]||!f[0])return f[0]?e:new q(c[0]?r:0*i)}if(o=d(o),a=d(a),c=c.slice(),i=o-a){for(i>0?(a=o,n=f):(i=-i,n=c),n.reverse();i--;n.push(0));n.reverse()}for((i=c.length)-(t=f.length)<0&&(n=f,f=c,c=n,t=i),i=0;t;)i=(c[--t]=c[t]+f[t]+i)/u|0,c[t]=u===c[t]?0:c[t]%u;return i&&(c=[i].concat(c),++a),W(e,c,a)},B.precision=B.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return b(e,1,l),null==t?t=I:b(t,0,8),z(new q(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*s+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},B.shiftedBy=function(e){return b(e,-a,a),this.times("1e"+e)},B.squareRoot=B.sqrt=function(){var e,t,n,r,i,o=this,u=o.c,s=o.s,a=o.e,c=D+4,f=new q("0.5");if(1!==s||!u||!u[0])return new q(!s||s<0&&(!u||u[0])?NaN:u?o:1/0);if(0==(s=Math.sqrt(+V(o)))||s==1/0?(((t=h(u)).length+a)%2==0&&(t+="0"),s=Math.sqrt(+t),a=d((a+1)/2)-(a<0||a%2),n=new q(t=s==1/0?"1e"+a:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+a)):n=new q(s+""),n.c[0])for((s=(a=n.e)+c)<3&&(s=0);;)if(i=n,n=f.times(i.plus(y(o,i,c,1))),h(i.c).slice(0,s)===(t=h(n.c)).slice(0,s)){if(n.e<a&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(n,n.e+D+2,1),e=!n.times(n).eq(o));break}if(!r&&(z(i,i.e+D+2,0),i.times(i).eq(o))){n=i;break}c+=4,s+=4,r=1}return z(n,n.e+D+1,I,e)},B.toExponential=function(e,t){return null!=e&&(b(e,0,l),e++),G(this,e,t,1)},B.toFixed=function(e,t){return null!=e&&(b(e,0,l),e=e+this.e+1),G(this,e,t)},B.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=x;else if("object"!=typeof n)throw Error(i+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var u,s=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,f=n.groupSeparator||"",l=s[0],d=s[1],h=o.s<0,p=h?l.slice(1):l,b=p.length;if(c&&(u=a,a=c,c=u,b-=u),a>0&&b>0){for(u=b%a||a,l=p.substr(0,u);u<b;u+=a)l+=f+p.substr(u,a);c>0&&(l+=f+p.slice(u)),h&&(l="-"+l)}r=d?l+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):l}return(n.prefix||"")+r+(n.suffix||"")},B.toFraction=function(e){var t,n,r,o,u,a,f,l,d,p,b,g,v=this,_=v.c;if(null!=e&&(!(f=new q(e)).isInteger()&&(f.c||1!==f.s)||f.lt(E)))throw Error(i+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+V(f));if(!_)return new q(v);for(t=new q(E),d=n=new q(E),r=l=new q(E),g=h(_),u=t.e=g.length-v.e-1,t.c[0]=c[(a=u%s)<0?s+a:a],e=!e||f.comparedTo(t)>0?u>0?t:d:f,a=C,C=1/0,f=new q(g),l.c[0]=0;p=y(f,t,0,1),1!=(o=n.plus(p.times(r))).comparedTo(e);)n=r,r=o,d=l.plus(p.times(o=d)),l=o,t=f.minus(p.times(o=t)),f=o;return o=y(e.minus(n),r,0,1),l=l.plus(o.times(d)),n=n.plus(o.times(r)),l.s=d.s=v.s,b=y(d,r,u*=2,I).minus(v).abs().comparedTo(y(l,n,u,I).minus(v).abs())<1?[d,r]:[l,n],C=a,b},B.toNumber=function(){return+V(this)},B.toPrecision=function(e,t){return null!=e&&b(e,1,l),G(this,e,t,2)},B.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=P||i>=U?v(h(n.c),i):_(h(n.c),i,"0"):10===e?t=_(h((n=z(new q(n),D+i+1,I)).c),n.e,"0"):(b(e,2,H.length,"Base"),t=O(_(h(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},B.valueOf=B.toJSON=function(){return V(this)},B._isBigNumber=!0,B[Symbol.toStringTag]="BigNumber",B[Symbol.for("nodejs.util.inspect.custom")]=B.valueOf,null!=m&&q.set(m),q}(),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},O=function(){function e(){this.format=e.DEFAULT_FORMAT,m.config({FORMAT:this.format})}return e.prototype.set=function(e){"FORMAT"in e&&(this.format=y({},this.format,e.FORMAT),e.FORMAT=this.format),m.config(e)},e.DEFAULT_FORMAT={prefix:"",decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0,suffix:""},e}();e.BigNumber=function(){function e(t){"object"==typeof t&&e.isBigNumber(t)?this.bn=t.bn.plus(0):this.bn=e.toBigNumberJs(t)}return e.prototype.clone=function(){return new e(this)},e.prototype.add=function(t){return new e(this.bn.plus(e.toBigNumberJs(t)))},e.prototype.sub=function(t){return new e(this.bn.minus(e.toBigNumberJs(t)))},e.prototype.mul=function(t){return new e(this.bn.times(e.toBigNumberJs(t)))},e.prototype.div=function(t){return new e(this.bn.div(e.toBigNumberJs(t)))},e.prototype.pow=function(t){return new e(this.bn.pow(e.toBigNumberJs(t)))},e.prototype.abs=function(){return new e(this.bn.abs())},e.prototype.mod=function(t){return new e(this.bn.mod(e.toBigNumberJs(t)))},e.prototype.roundTo=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=4),new e(this.bn.dp(t||0,n))},e.prototype.eq=function(t){return this.bn.eq(e.toBigNumberJs(t))},e.prototype.lt=function(t){return this.bn.lt(e.toBigNumberJs(t))},e.prototype.gt=function(t){return this.bn.gt(e.toBigNumberJs(t))},e.prototype.lte=function(t){return this.bn.lte(e.toBigNumberJs(t))},e.prototype.gte=function(t){return this.bn.gte(e.toBigNumberJs(t))},e.prototype.isNaN=function(){return this.bn.isNaN()},e.prototype.isFinite=function(){return this.bn.isFinite()},e.prototype.isZero=function(){return this.eq(0)},e.prototype.isPositive=function(){return this.gt(0)},e.prototype.isNegative=function(){return this.lt(0)},e.prototype.isInt=function(){return this.bn.isInteger()},e.prototype.getDecimalsCount=function(){return this.bn.dp()},e.prototype.isEven=function(){return this.mod(2).eq(0)},e.prototype.isOdd=function(){return!this.isEven()},e.prototype.toBytes=function(){if(!this.isInt())throw new Error("Cant create bytes from number with decimals!");var t=this.isNegative(),n=t?"1":"0",r=e._toLength(64,this.bn.plus(n).abs().toString(2).replace("-","")).split(""),i=[];do{i.push(parseInt(r.splice(0,8).join(""),2))}while(r.length);return t?Uint8Array.from(i.map((function(e){return 255-e}))):Uint8Array.from(i)},e.prototype.toFormat=function(e,t,n){return this.bn.toFormat(e,t,n)},e.prototype.toFixed=function(e,t){return null==e?this.bn.toFixed():this.bn.toFixed(e,t)},e.prototype.toString=function(){return this.toFixed()},e.prototype.toNumber=function(){return this.bn.toNumber()},e.prototype.toJSON=function(){return this.bn.toFixed()},e.prototype.valueOf=function(){return this.bn.valueOf()},e.fromBytes=function(t){if(8!==t.length)throw new Error("Wrong bytes length! Need 8 bytes!");var n=t[0]>127,r=Array.from(t).map((function(e){return n?255-e:e})).map((function(t){return e._toLength(8,t.toString(2))})).join(""),i=new e(new m(r,2));return n?i.mul(-1).sub(1):i},e.max=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.toBigNumber(t).reduce((function(e,t){return e.gte(t)?e:t}))},e.min=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.toBigNumber(t).reduce((function(e,t){return e.lte(t)?e:t}))},e.sum=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.toBigNumber(t).reduce((function(e,t){return e.add(t)}))},e.isBigNumber=function(t){return t&&"object"==typeof t&&(t instanceof e||Object.entries(e.prototype).filter((function(e){return"_"!==e[0].charAt(0)})).every((function(e){var n=e[0],r=e[1];return n in t&&typeof r==typeof t[n]})))},e.toBigNumber=function(t){return Array.isArray(t)?t.map((function(t){return new e(t)})):new e(t)},e.toBigNumberJs=function(t){return m.isBigNumber(t)?t:t instanceof e?t.bn:new m(t)},e._toLength=function(e,t){return new Array(e).fill("0",0,e).concat(t.split("")).slice(-e).join("")},e.MAX_VALUE=new e("9223372036854775807"),e.MIN_VALUE=new e("-9223372036854775808"),e.MAX_UNSIGNED_VALUE=new e("18446744073709551615"),e.config=new O,e}(),function(e){!function(e){e[e.ROUND_UP=0]="ROUND_UP",e[e.ROUND_DOWN=1]="ROUND_DOWN",e[e.ROUND_CEIL=2]="ROUND_CEIL",e[e.ROUND_FLOOR=3]="ROUND_FLOOR",e[e.ROUND_HALF_UP=4]="ROUND_HALF_UP",e[e.ROUND_HALF_DOWN=5]="ROUND_HALF_DOWN",e[e.ROUND_HALF_EVEN=6]="ROUND_HALF_EVEN",e[e.ROUND_HALF_CEIL=7]="ROUND_HALF_CEIL",e[e.ROUND_HALF_FLOOR=8]="ROUND_HALF_FLOOR"}(e.ROUND_MODE||(e.ROUND_MODE={}))}(e.BigNumber||(e.BigNumber={}));var A=e.BigNumber;e.default=A,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(13));t.default=function(e){return i.default(e).then((function(e){return String.fromCharCode(e)}))}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r};t.__esModule=!0;var i=n(2),o=n(1),u=n(32),s=function(){function e(e,t,n,r){var i,o;this._emitter=new u.EventEmitter,this._timer=null,this.address=t,this._interval=r||1e3,this._base=e,this._lastBlock={lastId:(null===(i=n)||void 0===i?void 0:i.id)||"",height:(null===(o=n)||void 0===o?void 0:o.height)||0,transactions:n?[n]:[]},this._addTimeout()}return e.prototype.on=function(e,t){this._emitter.on(e,t)},e.prototype.once=function(e,t){this._emitter.once(e,t)},e.prototype.off=function(e,t){this._emitter.off(e,t)},e.prototype._run=function(){var t=this;this._timer&&clearTimeout(this._timer);var n=function(){return t._addTimeout()};i.fetchTransactions(this._base,this.address,1).then((function(i){var u=i[0];if(!u)return t._addTimeout(),null;t.getTransactionsInHeight(u,310).then((function(n){var i,u=e._groupByHeight(n),s=o.keys(u).map(Number).sort((function(e,t){return t-e})),a=s[0],c=s[1];if(t._lastBlock.height){var f=o.indexBy(o.prop("id"),t._lastBlock.transactions),l=e._getTransactionsToDispatch(r(u[a],u[c]||[]),f,t._lastBlock.lastId);t._lastBlock.height!==a?t._lastBlock={height:a,lastId:u[c]&&u[c].length?u[c][0].id:"",transactions:u[a]}:(i=t._lastBlock.transactions).push.apply(i,l),l.length&&t._emitter.trigger("change-state",l)}else t._lastBlock={height:a,lastId:u[c]&&u[c].length?u[c][0].id:"",transactions:u[a]},t._emitter.trigger("change-state",n);t._addTimeout()}),n)})).catch(n)},e.prototype.getTransactionsInHeight=function(t,n){var u=this,s=t.height,a=function(t){return t.length>=n?Promise.resolve(t):i.fetchTransactions(u._base,u.address,t.length+100).then((function(n){if(t.length===n.length)return t;var i=e._groupByHeight(n),u=o.keys(i).map(Number).sort((function(e,t){return t-e})),c=u[0],f=u[1];return c===s&&f?r(i[c],[i[f][0]]):a(n)}))};return a([t])},e.prototype._addTimeout=function(){var e=this;this._timer=setTimeout((function(){e._run()}),this._interval)},e._groupByHeight=function(e){return e.reduce((function(e,t){return e[t.height]?e[t.height].push(t):e[t.height]=[t],e}),Object.create(null))},e._getTransactionsToDispatch=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o.id===n)break;t[o.id]||r.push(o)}return r},e}();t.Watch=s,t.default=function(e,t,n){return i.fetchTransactions(e,t,1).then((function(r){var i=r[0];return new s(e,t,i,n)}))}},function(e,t,n){"use strict";t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(33))},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(){this._events=Object.create(null)}return e.prototype.hasListeners=function(e){return!(!this._events[e]||!this._events[e].length)},e.prototype.getActiveEvents=function(){var e=this;return Object.keys(this._events).filter((function(t){return e.hasListeners(t)}))},e.prototype.trigger=function(e,t){this._events[e]&&(this._events[e]=this._events[e].filter((function(e){try{e.handler.call(e.context,t)}catch(e){}return!e.once})),this._events[e].length||delete this._events[e])},e.prototype.on=function(e,t,n){this._on(e,t,n,!1)},e.prototype.once=function(e,t,n){this._on(e,t,n,!0)},e.prototype.off=function(e,t){var n=this,r="string"==typeof e?e:null,i="function"==typeof t?t:"function"==typeof e?e:null;r?i?r in this._events&&(this._events[r]=this._events[r].filter((function(e){return e.handler!==i}))):delete this._events[r]:Object.keys(this._events).forEach((function(e){n.off(e,i)}))},e.prototype._on=function(e,t,n,r){this._events[e]||(this._events[e]=[]),this._events[e].push({handler:t,context:n,once:r})},e}();t.EventEmitter=r}])}));