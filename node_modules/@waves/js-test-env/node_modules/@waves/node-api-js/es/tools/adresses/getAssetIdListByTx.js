import { filter, pipe, prop, switchTransactionByType, toArray, uniq } from '../utils';
import { NAME_MAP } from '../../constants';
const getAssetIdList = switchTransactionByType({
    [NAME_MAP.transfer]: tx => [tx.assetId, tx.feeAssetId],
    [NAME_MAP.burn]: tx => [tx.assetId],
    [NAME_MAP.reissue]: tx => [tx.assetId],
    [NAME_MAP.exchange]: tx => [tx.buyOrder.assetPair.amountAsset, tx.buyOrder.assetPair.priceAsset, tx.buyOrder.matcherFeeAssetId, tx.sellOrder.matcherFeeAssetId],
    [NAME_MAP.massTransfer]: tx => [tx.assetId],
    [NAME_MAP.setAssetScript]: tx => [tx.assetId],
    [NAME_MAP.sponsorship]: tx => [tx.assetId],
    [NAME_MAP.invoke]: tx => [...(tx.payment || []).map(prop('assetId')), tx.feeAssetId]
});
export default function (tx) {
    const idList = toArray(tx).reduce((acc, tx) => acc.concat(getAssetIdList(tx) || []), []);
    return pipe(filter(Boolean), uniq)(idList);
}
//# sourceMappingURL=getAssetIdListByTx.js.map